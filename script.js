const translations = {
    sv: {
      "hero-text1": "Hej! Jag",
      "hero-text2": "är Tord Månström",
      "navbar-left": "Tord Månström",
      "navbar-center": "Projekt",
      "navbar-about": "Om mig",
      "navbar-contact": "Kontakt",
      "about-title": "Om mig",
      "about-content": "Jag är en passionerad utvecklare som älskar att skapa moderna lösningar.",
      "projects-title": "Projekt",
      "projects-content": "Här är några av mina senaste projekt.",
      "projects-title": "Projekt",
      "project-tic-tac-toe-title": "Tic-Tac-Toe",
      "project-tic-tac-toe-desc": "Konsolbaserat Tic-Tac-Toe spel byggt med C#.",
      "project-snake-title": "Snake",
      "project-snake-desc": "Konsolbaserat Snake-spel byggt med C#.",
      "project-hangman-title": "Hangman",
      "project-hangman-desc": "Konsolbaserat Hangman-spel byggt med C#.",
      "project-cash-register-title": "Kassaregister",
      "project-cash-register-desc": "Objektorienterat kassaregister byggt med C#.",
      "project-hotel-booking-title": "Hotellbokning",
      "project-hotel-booking-desc": "Bokningssystem byggt i C# med SQL-databas.",
      "project-zoo-title": "Zoo Webbsida",
      "project-zoo-desc": "Responsiv webbsida om ett fiktivt Zoo.",
      "project-tech": "Tekniker:",
      "project-github": "Se kod på GitHub",
      "contact-title": "Kontakt",
      "contact-firstname": "Förnamn:",
      "contact-firstname-placeholder": "Ditt förnamn",
      "contact-lastname": "Efternamn:",
      "contact-lastname-placeholder": "Ditt efternamn",
      "contact-phone": "Telefonnummer:",
      "contact-phone-placeholder": "+46 70 123 45 67",
      "contact-company": "Företag:",
      "contact-company-placeholder": "Ditt företag",
      "contact-job": "Yrkesroll:",
      "contact-job-placeholder": "Ex. Utvecklare, Projektledare",
      "contact-email": "E-post:",
      "contact-email-placeholder": "din@email.com",
      "contact-message": "Meddelande:",
      "contact-message-placeholder": "Ditt meddelande",
      "contact-submit": "Skicka",
      "footer-cv": "CV",
      "about-intro": "Hej! Jag är Tord Månström, en passionerad utvecklare med fokus på systemutveckling och webbdesign.",
      "about-passion": "Jag brinner för att skapa funktionella och användarvänliga lösningar och älskar att experimentera med ny teknik.",
      "about-hobbies": "Utanför kodningen gillar jag att resa, laga mat och utforska nya platser!",
      "testimonial-text": "\"Tord är en mycket målmedveten, kompetent utvecklare som levererar kvalitativa lösningar.\"",
      "testimonial-author": "Øyvind Lader Bruhn, BYGGFAKTA AS",
      "skills-title": "Kunskaper",
      "contact-firstname-placeholder": "Ditt förnamn",
      "contact-lastname-placeholder": "Ditt efternamn",
      "contact-email-placeholder": "din@email.com",
      "contact-phone-placeholder": "+46 70 123 45 67",
      "contact-message-placeholder": "Ditt meddelande",
      "contact-submit": "Skicka",
      "contact-firstname-error": "Förnamnet måste vara minst 2 tecken.",
      "contact-lastname-error": "Efternamnet måste vara minst 2 tecken.",
      "contact-email-error": "Ange en giltig e-postadress.",
      "contact-phone-error": "Endast siffror och '+' är tillåtna.",
      "contact-message-error": "Meddelandet måste vara minst 10 tecken.",
      "more-color": "Mer färg"
    },
    en: {
      "hero-text1": "Hi! I",
      "hero-text2": "am Tord Månström",
      "navbar-center": "Projects",
      "navbar-about": "About Me",
      "navbar-contact": "Contact",
      "about-title": "About Me",
      "about-content": "I am a passionate developer who loves creating modern solutions.",
      "projects-title": "Projects",
      "projects-content": "Here are some of my latest projects.",
      "projects-title": "Projects",
      "project-tic-tac-toe-title": "Tic-Tac-Toe",
      "project-tic-tac-toe-desc": "Console-based Tic-Tac-Toe game built with C#.",
      "project-snake-title": "Snake",
      "project-snake-desc": "Console-based Snake game built with C#.",
      "project-hangman-title": "Hangman",
      "project-hangman-desc": "Console-based Hangman game built with C#.",
      "project-cash-register-title": "Cash Register",
      "project-cash-register-desc": "Object-oriented cash register built with C#.",
      "project-hotel-booking-title": "Hotel Booking",
      "project-hotel-booking-desc": "Booking system built in C# with an SQL database.",
      "project-zoo-title": "Zoo Website",
      "project-zoo-desc": "Responsive website about a fictional Zoo.",
      "project-tech": "Technologies:",
      "project-github": "View code on GitHub",
      "contact-title": "Contact",
      "contact-firstname": "First Name:",
      "contact-firstname-placeholder": "Your first name",
      "contact-lastname": "Last Name:",
      "contact-lastname-placeholder": "Your last name",
      "contact-phone": "Phone Number:",
      "contact-phone-placeholder": "+44 20 1234 5678",
      "contact-company": "Company:",
      "contact-company-placeholder": "Your company",
      "contact-job": "Job Title:",
      "contact-job-placeholder": "e.g. Developer, Project Manager",
      "contact-email": "Email:",
      "contact-email-placeholder": "your@email.com",
      "contact-message": "Message:",
      "contact-message-placeholder": "Your message",
      "contact-submit": "Send",
      "footer-cv": "Resume",
      "about-intro": "Hi! I am Tord Månström, a passionate developer with a focus on system development and web design.",
      "about-passion": "I am passionate about creating functional and user-friendly solutions and love to experiment with new technology.",
      "about-hobbies": "Outside of coding, I enjoy traveling, cooking, and exploring new places!",
      "testimonial-text": "\"Tord is a highly goal-oriented, competent developer who delivers high-quality solutions.\"",
      "testimonial-author": "Øyvind Lader Bruhn, BYGGFAKTA AS",
      "skills-title": "Skills",
      "contact-firstname-placeholder": "Your first name",
      "contact-lastname-placeholder": "Your last name",
      "contact-email-placeholder": "your@email.com",
      "contact-phone-placeholder": "+44 20 1234 5678",
      "contact-message-placeholder": "Your message",
      "contact-submit": "Send",
      "contact-firstname-error": "First name must be at least 2 characters.",
      "contact-lastname-error": "Last name must be at least 2 characters.",
      "contact-email-error": "Enter a valid email address.",
      "contact-phone-error": "Only numbers and '+' are allowed.",
      "contact-message-error": "Message must be at least 10 characters.",
      "more-color": "More color",
    },
    no: {
      "hero-text1": "Hei! Jeg",
      "hero-text2": "er Tord Månström",
      "navbar-left": "Tord Månström",
      "navbar-center": "Prosjekter",
      "navbar-about": "Om meg",
      "navbar-contact": "Kontakt",
      "about-title": "Om meg",
      "about-content": "Jeg er en lidenskapelig utvikler som elsker å lage moderne løsninger.",
      "projects-title": "Prosjekter",
      "projects-content": "Her er noen av mine nyeste prosjekter.",
      "projects-title": "Prosjekter",
      "project-tic-tac-toe-title": "Tic-Tac-Toe",
      "project-tic-tac-toe-desc": "Konsollbasert Tic-Tac-Toe-spill bygget med C#.",
      "project-snake-title": "Snake",
      "project-snake-desc": "Konsollbasert Snake-spill bygget med C#.",
      "project-hangman-title": "Hangman",
      "project-hangman-desc": "Konsollbasert Hangman-spill bygget med C#.",
      "project-cash-register-title": "Kassasystem",
      "project-cash-register-desc": "Objektorientert kassasystem bygget med C#.",
      "project-hotel-booking-title": "Hotellbestilling",
      "project-hotel-booking-desc": "Bestillingssystem bygget i C# med SQL-database.",
      "project-zoo-title": "Zoo Nettsted",
      "project-zoo-desc": "Responsivt nettsted om en fiktiv dyrehage.",
      "project-tech": "Teknologier:",
      "project-github": "Se kode på GitHub",
      "contact-title": "Kontakt",
      "contact-firstname": "Fornavn:",
      "contact-firstname-placeholder": "Ditt fornavn",
      "contact-lastname": "Etternavn:",
      "contact-lastname-placeholder": "Ditt etternavn",
      "contact-phone": "Telefonnummer:",
      "contact-phone-placeholder": "+47 123 45 678",
      "contact-company": "Firma:",
      "contact-company-placeholder": "Ditt firma",
      "contact-job": "Yrkesrolle:",
      "contact-job-placeholder": "F.eks. Utvikler, Prosjektleder",
      "contact-email": "E-post:",
      "contact-email-placeholder": "din@email.com",
      "contact-message": "Melding:",
      "contact-message-placeholder": "Din melding",
      "contact-submit": "Send",
      "footer-cv": "CV",
      "about-intro": "Hei! Jeg er Tord Månström, en lidenskapelig utvikler med fokus på systemutvikling og webdesign.",
      "about-passion": "Jeg brenner for å skape funksjonelle og brukervennlige løsninger og elsker å eksperimentere med ny teknologi.",
      "about-hobbies": "Utenfor koding liker jeg å reise, lage mat og utforske nye steder!",
      "testimonial-text": "\"Tord er en svært målrettet, kompetent utvikler som leverer kvalitetsløsninger.\"",
      "testimonial-author": "Øyvind Lader Bruhn, BYGGFAKTA AS",
      "skills-title": "Ferdigheter",
      "contact-firstname-placeholder": "Ditt fornavn",
      "contact-lastname-placeholder": "Ditt etternavn",
      "contact-email-placeholder": "din@email.com",
      "contact-phone-placeholder": "+47 123 45 678",
      "contact-message-placeholder": "Din melding",
      "contact-submit": "Send",
      "contact-firstname-error": "Fornavnet må være minst 2 tegn.",
      "contact-lastname-error": "Etternavnet må være minst 2 tegn.",
      "contact-email-error": "Skriv inn en gyldig e-postadresse.",
      "contact-phone-error": "Kun tall og '+' er tillatt.",
      "contact-message-error": "Meldingen må være minst 10 tegn.",
      "more-color": "Mer farge",
    },
    es: {
      "hero-text1": "¡Hola!",
      "hero-text2": "soy Tord Månström",
      "navbar-left": "Tord Månström",
      "navbar-center": "Proyectos",
      "navbar-about": "Sobre mí",
      "navbar-contact": "Contacto",
      "about-title": "Sobre mí",
      "about-content": "Soy un desarrollador apasionado que ama crear soluciones modernas.",
      "projects-title": "Proyectos",
      "projects-content": "Aquí están algunos de mis últimos proyectos.",
      "projects-title": "Proyectos",
      "project-tic-tac-toe-title": "Tic-Tac-Toe",
      "project-tic-tac-toe-desc": "Juego de Tic-Tac-Toe basado en consola construido con C#.",
      "project-snake-title": "Snake",
      "project-snake-desc": "Juego de Snake basado en consola construido con C#.",
      "project-hangman-title": "Hangman",
      "project-hangman-desc": "Juego de Hangman basado en consola construido con C#.",
      "project-cash-register-title": "Caja registradora",
      "project-cash-register-desc": "Caja registradora orientada a objetos construida con C#.",
      "project-hotel-booking-title": "Reserva de hotel",
      "project-hotel-booking-desc": "Sistema de reservas construido en C# con base de datos SQL.",
      "project-zoo-title": "Sitio web del zoológico",
      "project-zoo-desc": "Sitio web receptivo sobre un zoológico ficticio.",
      "project-tech": "Tecnologías:",
      "project-github": "Ver código en GitHub",
      "contact-title": "Contacto",
      "contact-firstname": "Nombre:",
      "contact-firstname-placeholder": "Tu nombre",
      "contact-lastname": "Apellido:",
      "contact-lastname-placeholder": "Tu apellido",
      "contact-phone": "Número de teléfono:",
      "contact-phone-placeholder": "+34 612 345 678",
      "contact-company": "Empresa:",
      "contact-company-placeholder": "Su empresa",
      "contact-job": "Título del trabajo:",
      "contact-job-placeholder": "Ej. Desarrollador, Gerente de Proyecto",
      "contact-email": "Correo electrónico:",
      "contact-email-placeholder": "tu@email.com",
      "contact-message": "Mensaje:",
      "contact-message-placeholder": "Tu mensaje",
      "contact-submit": "Enviar",
      "footer-cv": "Currículum",
      "about-intro": "¡Hola! Soy Tord Månström, un desarrollador apasionado con enfoque en desarrollo de sistemas y diseño web.",
      "about-passion": "Me apasiona crear soluciones funcionales y fáciles de usar, y me encanta experimentar con nuevas tecnologías.",
      "about-hobbies": "¡Fuera del código, me gusta viajar, cocinar y explorar nuevos lugares!",
      "testimonial-text": "\"Tord es un desarrollador muy enfocado y competente que entrega soluciones de alta calidad.\"",
      "testimonial-author": "Øyvind Lader Bruhn, BYGGFAKTA AS",
      "skills-title": "Habilidades",
      "contact-firstname-placeholder": "Su nombre",
      "contact-lastname-placeholder": "Su apellido",
      "contact-email-placeholder": "su@email.com",
      "contact-phone-placeholder": "+34 612 345 678",
      "contact-message-placeholder": "Su mensaje",
      "contact-submit": "Enviar",
      "contact-firstname-error": "El nombre debe tener al menos 2 caracteres.",
      "contact-lastname-error": "El apellido debe tener al menos 2 caracteres.",
      "contact-email-error": "Introduce una dirección de correo válida.",
      "contact-phone-error": "Solo se permiten números y '+'.",
      "contact-message-error": "El mensaje debe tener al menos 10 caracteres.",
      "more-color": "Más color",
    },
  };



  function changeLanguage(lang) {
    // Uppdatera textinnehåll (labels, knappar, osv.)
    document.querySelectorAll("[data-lang]").forEach((element) => {
      const key = element.getAttribute("data-lang");
      if (translations[lang] && translations[lang][key]) {
        element.textContent = translations[lang][key];
      }
    });
  
    // Uppdatera alla placeholders
    document.querySelectorAll("[data-lang-placeholder]").forEach((element) => {
      const key = element.getAttribute("data-lang-placeholder");
      if (translations[lang] && translations[lang][key]) {
        element.setAttribute("placeholder", translations[lang][key]); // Ändra placeholder-texten
      }
    });
  }

  // Hantera väder
document.addEventListener("DOMContentLoaded", function () {
    const translations = {
        sv: {
            title: "Väder i Hudiksvall",
            fetching: "Hämtar väderdata...",
            error: "Kunde inte hämta vädret.",
            clear: "Klart väder",
            rain: "Regn",
            snow: "Snö",
            cloudy: "Molnigt",
            light_rain: "Lätt regn",
            heavy_rain: "Kraftigt regn",
            mist: "Dimma",
            thunderstorm: "Åskväder"
        },
        en: {
            title: "Weather in Hudiksvall",
            fetching: "Fetching weather data...",
            error: "Could not fetch the weather.",
            clear: "Clear sky",
            rain: "Rain",
            snow: "Snow",
            cloudy: "Cloudy",
            light_rain: "Light rain",
            heavy_rain: "Heavy rain",
            mist: "Mist",
            thunderstorm: "Thunderstorm"
        },
        no: {
            title: "Vær i Hudiksvall",
            fetching: "Henter værdata...",
            error: "Kunne ikke hente været.",
            clear: "Klart vær",
            rain: "Regn",
            snow: "Snø",
            cloudy: "Skyet",
            light_rain: "Lett regn",
            heavy_rain: "Kraftig regn",
            mist: "Tåke",
            thunderstorm: "Tordenvær"
        },
        es: {
            title: "Tiempo en Hudiksvall",
            fetching: "Obteniendo datos del tiempo...",
            error: "No se pudo obtener el tiempo.",
            clear: "Cielo despejado",
            rain: "Lluvia",
            snow: "Nieve",
            cloudy: "Nublado",
            light_rain: "Lluvia ligera",
            heavy_rain: "Lluvia fuerte",
            mist: "Niebla",
            thunderstorm: "Tormenta"
        }
    };

    const apiUrl = "https://api.open-meteo.com/v1/forecast?latitude=61.7274&longitude=17.1056&hourly=temperature_2m,precipitation,rain,snowfall&models=ecmwf_ifs025&timezone=Europe/Stockholm";

    function updateWeather(language = "sv") {
        document.getElementById("weather-title").innerText = translations[language].title;
        document.getElementById("weather-info").innerText = translations[language].fetching;

        fetch(apiUrl)
            .then(response => response.json())
            .then(data => {
                if (data && data.hourly) {
                    const currentHour = new Date().getHours();
                    const temp = data.hourly.temperature_2m[currentHour];
                    const rain = data.hourly.rain[currentHour];
                    const snow = data.hourly.snowfall[currentHour];

                    let weatherText = `${temp}°C`;

                    // Välj rätt väderbeskrivning baserat på regn och snö
                    if (rain > 5) {
                        weatherText += ` 🌧️ ${translations[language].heavy_rain}`;
                    } else if (rain > 0) {
                        weatherText += ` 🌦️ ${translations[language].light_rain}`;
                    }

                    if (snow > 0) {
                        weatherText += ` ❄️ ${snow} cm ${translations[language].snow}`;
                    }

                    if (rain === 0 && snow === 0) {
                        weatherText += ` ☀️ ${translations[language].clear}`;
                    }

                    document.getElementById("weather-info").innerHTML = weatherText;
                } else {
                    document.getElementById("weather-info").innerText = translations[language].error;
                }
            })
            .catch(error => {
                console.error("Fel vid hämtning av väderdata:", error);
                document.getElementById("weather-info").innerText = translations[language].error;
            });
    }

    // Hämta vädret vid start (standard svenska)
    updateWeather("sv");

    // Uppdatera vädret vid språkbyte
    document.querySelectorAll("[onclick^='changeLanguage']").forEach(button => {
        button.addEventListener("click", function () {
            const newLang = this.getAttribute("onclick").match(/'([^']+)'/)[1];
            updateWeather(newLang);
        });
    });
});

// Uppdatera CV vid språkbyte
document.addEventListener("DOMContentLoaded", function () {
  const cvLinks = {
      sv: "./CVs/SE_Tord_Manstrom_CV_Svenska_2025.pdf",
      en: "./CVs/EN_Tord_Manstrom_CV_English_2025.pdf",
      no: "./CVs/NO_Tord_Manstrom_CV_Norsk_2025.pdf",
      es: "./CVs/ES_Tord_Manstrom_CV_Castellano_2025.pdf"
  };

  function updateCVLink(language) {
      const cvLink = document.getElementById("cv-link");
      if (cvLinks[language]) {
          cvLink.href = cvLinks[language];
      }
  }

  function changeLanguage(lang) {
      updateCVLink(lang);

      document.querySelectorAll("[data-lang]").forEach((element) => {
          const key = element.getAttribute("data-lang");
          if (translations[lang] && translations[lang][key]) {
              element.textContent = translations[lang][key];
          }
      });

      document.querySelectorAll("[data-lang-placeholder]").forEach((element) => {
          const key = element.getAttribute("data-lang-placeholder");
          if (translations[lang] && translations[lang][key]) {
              element.setAttribute("placeholder", translations[lang][key]);
          }
      });
  }

  // Hämta det första språket (default: svenska)
  updateCVLink("sv");

  // Lägg till eventlyssnare på språkknappar
  document.querySelectorAll("[onclick^='changeLanguage']").forEach(button => {
      button.addEventListener("click", function () {
          const newLang = this.getAttribute("onclick").match(/'([^']+)'/)[1];
          changeLanguage(newLang);
      });
  });
});

function changeLanguage(lang) {
    document.querySelectorAll("[data-lang]").forEach((element) => {
        const key = element.getAttribute("data-lang");
        if (translations[lang] && translations[lang][key]) {
            element.textContent = translations[lang][key];
        }
    });
}

 // Hämta fram flaggor)

 document.addEventListener("DOMContentLoaded", function () {
    const showFlagsBtn = document.getElementById("show-flags-btn");
    const prideFlagsContainer = document.getElementById("pride-flags-container");

    if (showFlagsBtn && prideFlagsContainer) {
        // Se till att flaggorna är gömda från början
        prideFlagsContainer.style.display = "none";
        prideFlagsContainer.style.opacity = "0"; // Starta osynliga
        prideFlagsContainer.style.transition = "opacity 0.5s ease-in-out"; // Smooth effekt

        showFlagsBtn.addEventListener("click", function () {
            if (prideFlagsContainer.style.display === "none") {
                prideFlagsContainer.style.display = "flex"; // Visa flaggorna
                setTimeout(() => {
                    prideFlagsContainer.style.opacity = "1"; // Gör dem synliga med smooth transition
                }, 10); // Liten delay för att transition ska fungera

                // Scrolla ner efter att flaggorna har visats
                setTimeout(() => {
                    prideFlagsContainer.scrollIntoView({ behavior: "smooth", block: "center" });
                }, 300);
            } else {
                prideFlagsContainer.style.opacity = "0"; // Gör dem osynliga
                setTimeout(() => {
                    prideFlagsContainer.style.display = "none"; // Göm flaggorna efter transition
                }, 500); // Vänta på animationen innan display sätts till none
            }
        });
    } else {
        console.error("Kunde inte hitta flaggknappen eller flaggcontainern.");
    }
});




function validateForm(event) {
    event.preventDefault(); // Förhindrar standard formulärskick

    const lang = document.documentElement.lang || 'sv'; // Kollar aktuell språk

    const errorMessages = {
        sv: {
            firstName: "Förnamnet måste vara minst 2 tecken.",
            lastName: "Efternamnet måste vara minst 2 tecken.",
            email: "Ange en giltig e-postadress.",
            message: "Meddelandet måste vara minst 10 tecken."
        },
        en: {
            firstName: "First name must be at least 2 characters.",
            lastName: "Last name must be at least 2 characters.",
            email: "Enter a valid email address.",
            message: "Message must be at least 10 characters."
        },
        no: {
            firstName: "Fornavnet må være minst 2 tegn.",
            lastName: "Etternavnet må være minst 2 tegn.",
            email: "Skriv inn en gyldig e-postadresse.",
            message: "Meldingen må være minst 10 tegn."
        },
        es: {
            firstName: "El nombre debe tener al menos 2 caracteres.",
            lastName: "El apellido debe tener al menos 2 caracteres.",
            email: "Introduce una dirección de correo válida.",
            message: "El mensaje debe tener al menos 10 caracteres."
        }
    };

    // Hämta fält
    const firstName = document.getElementById("firstName");
    const lastName = document.getElementById("lastName");
    const email = document.getElementById("email");
    const message = document.getElementById("message");

    // Hämta felmeddelande-element
    const errorFirstName = document.getElementById("error-firstName");
    const errorLastName = document.getElementById("error-lastName");
    const errorEmail = document.getElementById("error-email");
    const errorMessage = document.getElementById("error-message");

    let isValid = true;

    // Rensa gamla felmeddelanden
    errorFirstName.textContent = "";
    errorLastName.textContent = "";
    errorEmail.textContent = "";
    errorMessage.textContent = "";

    // Validera fält
    if (firstName.value.length < 2) {
        errorFirstName.textContent = errorMessages[lang].firstName;
        isValid = false;
    }

    if (lastName.value.length < 2) {
        errorLastName.textContent = errorMessages[lang].lastName;
        isValid = false;
    }

    const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailPattern.test(email.value)) {
        errorEmail.textContent = errorMessages[lang].email;
        isValid = false;
    }

    if (message.value.length < 10) {
        errorMessage.textContent = errorMessages[lang].message;
        isValid = false;
    }

    if (isValid) {
        event.target.submit(); // Skicka formuläret om allt är rätt
    }
}

// Uppdatera felmeddelanden vid språkbyte
function updateErrorMessages(lang) {
    document.querySelectorAll(".error-message").forEach((span) => (span.textContent = ""));
}
updateErrorMessages(lang);




